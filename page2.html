<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>系統載入中</title>
    <style>
        body {
            background-color: black;
            color: #00ff00;
            font-family: monospace;
            white-space: pre;
            padding: 20px;
        }
        #options {
            margin-top: 20px;
        }
        .option {
            display: inline-block;
            margin-right: 20px;
            padding: 5px 10px;
            border: 1px solid #00ff00;
            cursor: pointer;
        }
        .selected {
            background-color: #00ff00;
            color: black;
        }
    </style>
</head>
<body>
<pre id="codeDisplay"></pre>
<div id="options" style="display:none;">
    <span id="yes" class="option">YES</span>
    <span id="no" class="option">NO</span>
</div>

<script>
    const codeLines = [
        "正在載入系統模組...",
        "初始化程序...",
        "檢查記憶體分配...",
        "載入核心參數...",
        "系統連接測試...",
        "權限檢測...",
        "代碼驗證通過",
        "----------------------------",
        "程式格式化："
    ];

    const display = document.getElementById('codeDisplay');
    const optionsDiv = document.getElementById('options');
    const yesBtn = document.getElementById('yes');
    const noBtn = document.getElementById('no');

    let selection = 1; // 預設停在 NO

    function updateSelection() {
        yesBtn.classList.toggle('selected', selection === 0);
        noBtn.classList.toggle('selected', selection === 1);
    }

    function executeSelection() {
        if (selection === 0) {
            window.location.href = "page3.html";
        } else {
            document.body.innerHTML = "";
            document.body.style.backgroundColor = "black";
        }
    }

    function enableInteraction() {
        updateSelection(); // 套用預設選擇

        // 鍵盤控制
        document.addEventListener('keydown', function(e) {
            if (e.key === "ArrowLeft" || e.key === "ArrowRight") {
                selection = selection === 0 ? 1 : 0;
                updateSelection();
            } else if (e.key === "Enter") {
                executeSelection();
            }
        });

        // 滑鼠控制
        yesBtn.addEventListener('click', function() {
            selection = 0;
            updateSelection();
            executeSelection();
        });

        noBtn.addEventListener('click', function() {
            selection = 1;
            updateSelection();
            executeSelection();
        });
    }

    function showCode(index) {
        if (index < codeLines.length) {
            display.textContent += codeLines[index] + "\n";
            setTimeout(() => showCode(index + 1), 300);
        } else {
            optionsDiv.style.display = "block";
            enableInteraction();
        }
    }

    showCode(0);
</script>
</body>
</html>
